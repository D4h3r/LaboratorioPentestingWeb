<!-- 
<h2>Cheatsheet de XSS en Angular</h2>

<h3>Definiciones Básicas</h3>
<p><strong>XSS (Cross-Site Scripting):</strong> Ataque que permite a los atacantes inyectar scripts maliciosos en sitios web confiables.</p>
<p><strong>Angular Sanitization:</strong> Proceso automático de Angular para limpiar valores inseguros para prevenir XSS.</p>
<p>Interpolación ({{ '{{' + '{}' + '}}' }}): Angular escapa automáticamente los valores para ser seguros.</p>

<h3>Payloads Comunes de XSS</h3>
<p>Interpolación: {{ '{{' + '{}' + '}}' }} '1 &lt;script&gt;alert("XSS")&lt;/script&gt;' {{ '' }}</p>
<p>Property Binding: [innerHTML]="maliciousContent" (Angular sanitiza por defecto)</p>
<p>Event Binding: (click)="maliciousFunction()"</p>

<h3>Payloads que Podrían Funcionar en Angular</h3>
<p>Debido a la sanitización y la seguridad de Angular, la mayoría de los payloads tradicionales de XSS no funcionarán. Sin embargo, configuraciones inseguras o mal uso de ciertas funciones pueden permitir vulnerabilidades.</p>

<p><strong>Bypass de Sanitización:</strong></p>
<pre>
  // En el componente TypeScript
  import { DomSanitizer } from '@angular/platform-browser';

  constructor(private sanitizer: DomSanitizer) {}

  let maliciousContent = '&lt;script&gt;alert("XSS")&lt;/script&gt;';
  let bypassedSecurity = this.sanitizer.bypassSecurityTrustHtml(maliciousContent);

  // En la plantilla HTML
  [innerHTML]="bypassedSecurity"
</pre>

<p><strong>Inyección de Estilos:</strong></p>
<pre>
  // En el componente TypeScript
  let style = this.sanitizer.bypassSecurityTrustStyle('url("javascript:alert(\'XSS\')")');

  // En la plantilla HTML
  [style.background]="style"
</pre>

<h3>Prácticas Recomendadas para Prevenir XSS en Angular</h3>
<ul>
  <li>Utiliza siempre las características de binding de Angular, como {{ '{{' + '{}' + '}}' }} y [property], que aplican sanitización.</li>
  <li>Evita el uso de <code>innerHtml</code> para insertar HTML a menos que sea absolutamente necesario y siempre utilizando sanitización.</li>
  <li>No utilices <code>bypassSecurityTrust*</code> a menos que estés absolutamente seguro de que el contenido es seguro y has realizado tus propias comprobaciones de seguridad.</li>
</ul>
-->


<h2>Cheatsheet de XSS en Angular</h2>

<h3>Definiciones Básicas</h3>
<p><strong>XSS (Cross-Site Scripting):</strong> Ataque que permite a los atacantes inyectar scripts maliciosos en sitios web confiables.</p>
<p><strong>Angular Sanitization:</strong> Proceso automático de Angular para limpiar valores inseguros para prevenir XSS.</p>
<p>Interpolación ({{ '{{' + '{}' + '}}' }}): Angular escapa automáticamente los valores para ser seguros.</p>

<h3>Payloads Comunes de XSS</h3>
<p>Interpolación: {{ '{{' + '{}' + '}}' }} '1 &lt;script&gt;alert("XSS")&lt;/script&gt;' {{ '' }}</p>
<p>Property Binding: [innerHTML]="maliciousContent" (Angular sanitiza por defecto)</p>
<p>Event Binding: (click)="maliciousFunction()"</p>

<h3>Payloads que Podrían Funcionar en Angular</h3>
<p>Debido a la sanitización y la seguridad de Angular, la mayoría de los payloads tradicionales de XSS no funcionarán. Sin embargo, configuraciones inseguras o mal uso de ciertas funciones pueden permitir vulnerabilidades.</p>
