<div class="container">
  <h2>XSS Nivel Medio</h2>
  <p>Simulación Navegador</p>
  
  <div class="browser-simulation">
    <div class="url-bar">
      <input 
        type="text" 
        [(ngModel)]="payload" 
        (keydown.enter)="updateUrl()"
        placeholder="http://localhost:4200/assets/xss-vulnerable-page.html?img=x%20onerror=&quot;alert(1)&quot;" />
    </div>
    
    <iframe [src]="safeUrl" width="100%" height="500px"></iframe>
  </div>
  
  <div *ngIf="validationMessage">
    <p>{{ validationMessage }}</p>
  </div>

  <!-- Popup de Felicitaciones -->
  <div class="popup" *ngIf="showPopup">
    ¡Felicitaciones! Has completado el nivel.
  </div>

  <!-- Spinner de Carga -->
  <div *ngIf="isLoading" class="loading-container">
    <mat-spinner color="primary"></mat-spinner>
  </div>
</div>
